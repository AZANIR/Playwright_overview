# Модуль 03: Browser, Context і Page. UI mode

## Фікстури тестів

Playwright Test базується на **фікстурах**. Фікстури налаштовують середовище для кожного тесту: надають тесту все необхідне і нічого зайвого. Фікстури **ізольовані між тестами**, тому тести не впливають один на одного. За допомогою фікстур можна групувати тести за логікою, а не за спільним setup.

## Вбудовані фікстури

У першому тесті ви вже використовували фікстуру `page`:

```javascript
import { test, expect } from '@playwright/test';

test('basic test', async ({ page }) => {
  await page.goto('https://playwright.dev/');
  await expect(page).toHaveTitle(/Playwright/);
});
```

Аргумент `{ page }` повідомляє Playwright налаштувати фікстуру `page` і передати її у функцію тесту.

**Основні вбудовані фікстури:**

| Фікстура | Опис |
|----------|------|
| **page** | Ізольована сторінка (вкладка) для цього тесту. Найчастіше використовується для `goto`, кліків, введення тексту, асертів. |
| **context** | Ізольований браузерний контекст для цього тесту. У ньому створюється `page`. Контекст містить cookies, localStorage, права доступу тощо. |
| **browser** | Екземпляр браузера. Браузери перевикористовуються між тестами для швидкості. |
| **request** | Ізольований `APIRequestContext` для HTTP-запитів (наприклад API-тести). Використовує той самий контекст, що й `page`. |

**Ієрархія:** `browser` → `context` → `page`. Кожен тест отримує свій `context` і свою `page`, тому cookies та стан сторінки не перетинаються між тестами.

## Коли використовувати context або browser

- **page** — достатньо для більшості E2E-тестів: відкрити сторінку, клікати, перевіряти.
- **context** — коли потрібно створити кілька сторінок у одному контексті, змінити permissions, геолокацію, cookies для групи сторінок.
- **browser** — коли потрібно створити новий контекст вручну або отримати інформацію про браузер.

Приклади використання `page`, `context` та опис UI mode — у папці [examples](./examples/).

## UI mode

UI mode — це графічний інтерфейс для запуску та перегляду тестів.

**Запуск:**

```bash
npx playwright test --ui
```

Після запуску відкривається вікно зі списком тестових файлів. Можна:

- Запустити всі тести (кнопка з трикутником на бічній панелі).
- Запустити окремий файл, блок `describe` або один тест — навести на назву і натиснути трикутник.

UI mode зручний для відлагодження, перегляду кроків і результатів. Детальніше: [UI mode](https://playwright.dev/docs/test-ui-mode).

Презентація: [03_Browser_context_UiMode.md](../../prezentations/03_Browser_context_UiMode.md).
